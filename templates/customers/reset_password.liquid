{% comment %}
    This template will be automatically generated for you if the file doesn't exist,
    but where's the fun in having no control? Define your layout below.

    The 'layout settings.customer_layout' line is inserted at the top of every customer account template.
    Your theme's settings determine to use the 'default' or 'theme' customer templates.
    More info:
    - http://www.tetchi.ca/shopify-theme-from-scratch-part-11/

    Template note:
    - All IDs on this template are required to make the forms submit properly
{% endcomment %}

{{ 'customer.css' | asset_url | stylesheet_tag }}

<div class="account-page">
    <div class="halo-page-header">
        <div class="container">
            {% render 'breadcrumb' %}
            <h1 class="page-header">
               {{ 'customer.reset_password.title' | t }}
            </h1>
        </div>
    </div>
    <div class="halo-page-content">
        <div class="login-row clearfix">
            <div class="login-rowItem login-rowRight">
                <div class="login-item">
                    <h2 class="halo-page-title page-subheader text-left">
                        {{ 'customer.reset_password.title' | t }}
                    </h2>
                    <div class="halo-page-wrapper">
                        <div class="login-text">
                            {{ 'customer.reset_password.subtext' | t: email: email }}
                        </div>
                        {%- form 'reset_customer_password' -%}
                            {%- if form.errors -%}
                                <div class="login-message form-message">
                                    <div class="alertBox alertBox--error">
                                        <div class="alertBox-message">
                                            <ul>
                                                {%- for field in form.errors -%}
                                                    <li>
                                                        {%- if field == 'form' -%}
                                                            {{ form.errors.messages[field] }}
                                                        {%- else -%}
                                                          <a href="#RegisterForm-{{ field }}" class="link link-underline">
                                                            <span class="text">
                                                                {{ form.errors.translated_fields[field] | capitalize }}
                                                                {{ form.errors.messages[field] }}
                                                            </span>
                                                          </a>
                                                        {%- endif -%}
                                                    </li>
                                                {%- endfor -%}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            {%- endif -%}
                            <div class="form-field{% if form.errors contains "password" %} form-field--error{% endif %}">
                                <label for="password">
                                    {{ 'customer.reset_password.password' | t }}
                                </label>
                                <input class="form-input form-input-placeholder{% if form.errors contains "password" %} error{% endif %}"
                                    type="password"
                                    name="customer[password]"
                                    id="password"
                                    autocomplete="new-password"
                                    {% if form.errors contains 'password' %}
                                        aria-invalid="true"
                                        aria-describedby="password-error"
                                    {% endif %}
                                    placeholder="{{ 'customer.reset_password.password' | t }}"
                                >
                            </div>
                            <div class="form-field{% if form.errors contains "password_confirmation" %} form-field--error{% endif %}">
                                <label for="password_confirmation">
                                    {{ 'customer.reset_password.password_confirm' | t }}
                                </label>
                                <input class="form-input form-input-placeholder{% if form.errors contains "password_confirmation" %} error{% endif %}"
                                    type="password"
                                    name="customer[password_confirmation]"
                                    id="password_confirmation"
                                    autocomplete="new-password"
                                    {% if form.errors contains 'password_confirmation' %}
                                        aria-invalid="true"
                                        aria-describedby="password_confirmation-error"
                                    {% endif %}
                                    placeholder="{{ 'customer.reset_password.password_confirm' | t }}"
                                >
                            </div>
                            <div class="form-actions">
                                <input type="submit" class="button button--primary" value="{{ 'customer.reset_password.submit' | t }}">
                            </div>
                        {%- endform -%}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>